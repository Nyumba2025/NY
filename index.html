<!DOCTYPE html>
<html lang="pt-MZ">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Nyumba Food-Concept | Menu & Reservas</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { nyumba: { clay: '#D96C06', forest: '#1D4A2C', deep: '#0F2617', sand: '#E0E8D9' } },
                    fontFamily: { heading: ['Syne', 'sans-serif'], sans: ['Plus Jakarta Sans', 'sans-serif'] }
                }
            }
        }
    </script>

    <style>
        body { background: #0F2617; background: radial-gradient(circle at center, #1D4A2C 0%, #0F2617 100%) fixed; color: #E0E8D9; font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .modal-full { background: #0F2617; position: fixed; inset: 0; z-index: 100; overflow-y: auto; padding: 1.5rem; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #D96C06; border-radius: 10px; }
        input[type="date"], input[type="time"] { color-scheme: dark; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const e = React.createElement;
        const { useState, useEffect, useMemo } = React;

        const MOZ_HOLIDAYS = ["01-01", "02-03", "04-07", "05-01", "06-25", "09-07", "09-25", "10-04", "12-25"];

        const TRANSLATIONS = {
            pt: {
                conceptTitle: "O CONCEITO",
                conceptText: "HÃ¡ espaÃ§os onde se come. E depois hÃ¡ o Nyumba Food â€” Concept, onde cada prato parece ter sido criado para impressionar. Instalado no ambiente calmo e encantador da FEIMA, este quiosque transforma cada refeiÃ§Ã£o numa viagem bem guiada.\nO Menu Ã© uma celebraÃ§Ã£o de fronteiras gastronÃ³micas inteligentemente atravessadas: a cozinha moÃ§ambicana no seu esplendor, a heranÃ§a portuguesa tratada com respeito e criatividade.",
                orderBtn: "PEDIR VIA WHATSAPP",
                weeklyBtn: "CONSULTAR MENU SEMANAL",
                alacarteBtn: "CONSULTAR Ã€ LA CARTE",
                location: "FEIMA - MAPUTO", address: "Av. MÃ¡rtires da Machava",
                hours: "HORÃRIO", hoursDetail: "09:00 - 22:00",
                footer: "Nyumba Food Concept Â© 2026 | JosÃ© Freire â€¢ CriaÃ§Ã£o",
                name: "O teu nome", phone: "TelemÃ³vel *", date: "Data", time: "Hora",
                addressLabel: "Morada de entrega (Maputo) *",
                notesEventLabel: "Notas (Festas de AniversÃ¡rio, Casamento...)",
                notesGenericLabel: "Notas e ObservaÃ§Ãµes",
                notesPlaceholders: {
                    comer_local: "Bebidas, alergias ou preferÃªncia de lugar...",
                    takeaway: "Bebidas ou observaÃ§Ãµes para a recolha...",
                    entrega: "Bebidas, pontos de referÃªncia ou alergias...",
                    evento: "Detalhes do evento, decoraÃ§Ã£o, pedidos especiais..."
                },
                sendWa: "FINALIZAR NO WHATSAPP",
                resetBtn: "LIMPAR TUDO",
                close: "FECHAR",
                selectItems: "SELECIONAR PRATOS",
                weekendMsg: "Fim de Semana / Feriado: Apenas Ã€ La Carte disponÃ­vel.",
                total: "TOTAL ESTIMADO",
                requiredAlert: "Por favor, preencha o seu nome, telemÃ³vel e morada (se aplicÃ¡vel).",
                types: { comer_local: "No Local", takeaway: "Takeaway", entrega: "Entrega", evento: "Evento" },
                sections: { starter: "ENTRADA", main: "PRATOS PRINCIPAIS", dessert: "SOBREMESA", alacarte: "Ã€ LA CARTE", snacks: "SNACKS", appetizers: "PETISCOS", sandwiches: "NO PÃƒO", plates: "NO PRATO" }
            },
            en: {
                conceptTitle: "THE CONCEPT",
                conceptText: "There are places where you eat. And then there is Nyumba Food â€” Concept, where every dish seems to have been created to impress. Located in the calm and charming environment of FEIMA, this kiosk transforms every meal into a well-guided journey.\nThe Menu is a celebration of intelligently crossed gastronomic borders: Mozambican cuisine in its splendor, Portuguese heritage treated with respect and creativity.",
                orderBtn: "ORDER VIA WHATSAPP",
                weeklyBtn: "SEE WEEKLY MENU",
                alacarteBtn: "SEE Ã€ LA CARTE",
                location: "FEIMA - MAPUTO", address: "Martyrs of Machava Ave.",
                hours: "OPENING HOURS", hoursDetail: "09:00 AM - 10:00 PM",
                footer: "Nyumba Food Concept Â© 2026 | JosÃ© Freire â€¢ Creation",
                name: "Your name", phone: "Phone number *", date: "Date", time: "Time",
                addressLabel: "Delivery address (Maputo) *",
                notesEventLabel: "Notes (Birthday Parties, Weddings...)",
                notesGenericLabel: "Notes & Observations",
                notesPlaceholders: {
                    comer_local: "Drinks, allergies, or seat preference...",
                    takeaway: "Drinks or pickup notes...",
                    entrega: "Drinks, landmarks, or allergies...",
                    evento: "Event details, decor, special requests..."
                },
                sendWa: "FINISH ON WHATSAPP",
                resetBtn: "CLEAR ALL",
                close: "CLOSE",
                selectItems: "SELECT DISHES",
                weekendMsg: "Weekend / Holiday: Only Ã€ La Carte available.",
                total: "ESTIMATED TOTAL",
                requiredAlert: "Please fill in your name, phone, and address (if applicable).",
                types: { comer_local: "Dine-in", takeaway: "Takeaway", entrega: "Delivery", evento: "Event" },
                sections: { starter: "STARTER", main: "MAIN COURSES", dessert: "DESSERT", alacarte: "Ã€ LA CARTE", snacks: "SNACKS", appetizers: "APPETIZERS", sandwiches: "SANDWICHES", plates: "ON PLATE" }
            }
        };

        const MENU_DATA = {
            1: { pt: "Segunda", en: "Monday", sopa: { pt: "Creme de Cenoura", en: "Carrot Cream", p: "180MT" }, pratos: [{pt: "Costeleta de Porco", en: "Pork Chop", p: "500MT"}, {pt: "LÃ­ngua de Vaca", en: "Beef Tongue", p: "500MT"}], sobremesa: { pt: "Salada de Fruta", en: "Fruit Salad", p: "150MT" } },
            2: { pt: "TerÃ§a", en: "Tuesday", sopa: { pt: "Caldo Verde", en: "Green Broth", p: "180MT" }, pratos: [{pt: "Bife Ã  Cerveja", en: "Beer Steak", p: "500MT"}, {pt: "Pescadinha Frita", en: "Fried Whiting", p: "400MT"}], sobremesa: { pt: "Pudim", en: "Caramel Pudding", p: "180MT" } },
            3: { pt: "Quarta", en: "Wednesday", sopa: { pt: "Sopa de Mandioca", en: "Cassava Soup", p: "150MT" }, pratos: [{pt: "Posta de Peixe", en: "Fish Steak", p: "500MT"}, {pt: "Arroz de Pato", en: "Duck Rice", p: "500MT"}], sobremesa: { pt: "Bolo de Cenoura", en: "Carrot Cake", p: "250MT" } },
            4: { pt: "Quinta", en: "Thursday", sopa: { pt: "Sopa de FeijÃ£o", en: "Bean Soup", p: "150MT" }, pratos: [{pt: "Polvo a Lagareiro", en: "Octopus Lagareiro", p: "750MT"}, {pt: "Cabrito no Forno", en: "Roasted Goat", p: "750MT"}], sobremesa: { pt: "Arroz-Doce", en: "Rice Pudding", p: "180MT" } },
            5: { pt: "Sexta", en: "Friday", sopa: { pt: "Creme de AbÃ³bora", en: "Pumpkin Cream", p: "180MT" }, pratos: [{pt: "Matapa c/ Caranguejo", en: "Matapa w/ Crab", p: "350MT"}, {pt: "Pernil no Forno", en: "Roasted Pork Shank", p: "750MT"}], sobremesa: { pt: "Doce de Mandioca", en: "Cassava Sweet", p: "180MT" } }
        };

        const ALACARTE_DATA = {
            appetizers: [
                { pt: "Rabada", en: "Oxtail", p: "350MT" },
                { pt: "AmÃªijoas Ã  NYUMBA", en: "Clams NYUMBA style", p: "400MT" },
                { pt: "CabeÃ§a de SalmÃ£o", en: "Salmon Head", p: "350MT" },
                { pt: "CamarÃ£o Alinho", en: "Seasoned Shrimp", p: "350MT" },
                { pt: "ChouriÃ§o (c/ Batata e Salada)", en: "Chorizo (w/ Potato & Salad)", p: "400MT" },
                { pt: "TÃ¡bua de 7 Queijos & Broa", en: "7 Cheese Board & Cornbread", p: "750MT" },
                { pt: "Dobradinha", en: "Tripe", p: "350MT" }
            ],
            starter: [
                { pt: "Creme de Cenoura", en: "Carrot Cream", p: "150MT" },
                { pt: "Creme de AbÃ³bora", en: "Pumpkin Cream", p: "180MT" },
                { pt: "Sopa de Mandioca", en: "Cassava Soup", p: "150MT" },
                { pt: "Caldo Verde", en: "Green Broth", p: "180MT" },
                { pt: "Sopa de FeijÃ£o", en: "Bean Soup", p: "150MT" },
                { pt: "Sopa de Legumes", en: "Vegetable Soup", p: "150MT" }
            ],
            snacks: [{ pt: "Salgados (4)", en: "Savory Pastries (4)", p: "250MT" }],
            sandwiches: [
                { pt: "Hamburguer Simples", en: "Simple Burger", p: "250MT" },
                { pt: "Hamburguer Completo", en: "Complete Burger", p: "350MT" },
                { pt: "Nyumba Burguer", en: "Nyumba Burger", p: "500MT" },
                { pt: "Hamburguer de Alheira", en: "Alheira Burger", p: "600MT" },
                { pt: "Prego no pÃ£o", en: "Steak Sandwich", p: "350MT" },
                { pt: "Tosta de Caranguejo", en: "Crab Toast", p: "250MT" }
            ],
            plates: [{ pt: "Matabicho Thafo", en: "Thafo Breakfast", p: "500MT" }],
            dessert: [
                { pt: "Salada de Fruta", en: "Fruit Salad", p: "180MT" },
                { pt: "Pudim", en: "Caramel Pudding", p: "180MT" },
                { pt: "Bolo de Chocolate", en: "Chocolate Cake", p: "250MT" },
                { pt: "Doce de Mandioca", en: "Cassava Sweet", p: "180MT" },
                { pt: "Arroz Doce", en: "Rice Pudding", p: "180MT" }
            ]
        };

        function App() {
            const [lang, setLang] = useState('pt');
            const [isOrderOpen, setIsOrderOpen] = useState(false);
            const [isWeeklyOpen, setIsWeeklyOpen] = useState(false);
            const [isAlacarteOpen, setIsAlacarteOpen] = useState(false);
            const [isMenuExpanded, setIsMenuExpanded] = useState(false);
            const [cart, setCart] = useState({});
            const [form, setForm] = useState({ tipo: 'comer_local', nome: '', telemovel: '', data: '', hora: '', morada: '', detalhes: '' });
            const t = TRANSLATIONS[lang];

            const isWeekendOrHoliday = useMemo(() => {
                if (!form.data) return false;
                const date = new Date(form.data);
                const day = date.getDay();
                const mDay = `${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                return day === 0 || day === 6 || MOZ_HOLIDAYS.includes(mDay);
            }, [form.data]);

            const [selectedDay, setSelectedDay] = useState(() => {
                const d = new Date().getDay();
                return (d === 0 || d === 6) ? 1 : d;
            });

            const availableItems = useMemo(() => {
                const items = [];
                if (!isWeekendOrHoliday) {
                    const day = MENU_DATA[selectedDay];
                    items.push({ n_pt: day.sopa.pt, n_en: day.sopa.en, p: day.sopa.p, cat: t.sections.starter });
                    day.pratos.forEach((p) => items.push({ n_pt: p.pt, n_en: p.en, p: p.p, cat: t.sections.main }));
                    items.push({ n_pt: day.sobremesa.pt, n_en: day.sobremesa.en, p: day.sobremesa.p, cat: t.sections.dessert });
                }
                Object.entries(ALACARTE_DATA).forEach(([catKey, list]) => {
                    list.forEach((item) => items.push({ n_pt: item.pt, n_en: item.en, p: item.p, cat: t.sections[catKey] || catKey.toUpperCase() }));
                });
                return items;
            }, [selectedDay, isWeekendOrHoliday, t]);

            const totalPrice = useMemo(() => {
                return Object.entries(cart).reduce((sum, [key, qty]) => {
                    const item = availableItems.find(i => i.n_pt === key);
                    if (!item) return sum;
                    const price = parseInt(item.p.replace(/\D/g, ''));
                    return sum + (price * qty);
                }, 0);
            }, [cart, availableItems]);

            const updateCart = (namePt, delta) => {
                setCart(prev => {
                    const next = (prev[namePt] || 0) + delta;
                    const newCart = { ...prev };
                    if (next <= 0) delete newCart[namePt];
                    else newCart[namePt] = next;
                    return newCart;
                });
            };

            const handleReset = () => {
                setCart({});
                setForm({ ...form, detalhes: '', morada: '', nome: '', telemovel: '', data: '', hora: '' });
            };

            const sendWA = () => {
                if (!form.nome || !form.telemovel || (form.tipo === 'entrega' && !form.morada)) {
                    alert(t.requiredAlert);
                    return;
                }
                const itensStr = Object.entries(cart).map(([n, q]) => `â€¢ ${q}x ${n}`).join('\n');
                const text = `*PEDIDO NYUMBA*\nðŸ“ *Tipo:* ${t.types[form.tipo]}\nðŸ‘¤ *Nome:* ${form.nome}\nðŸ“ž *Tel:* ${form.telemovel}\nðŸ“… *Data:* ${form.data} Ã s ${form.hora}\n\n*ITENS:*\n${itensStr}\n\nðŸ’° *TOTAL:* ${totalPrice.toLocaleString()} MT\n\n*NOTAS:* ${form.detalhes}${form.tipo === 'entrega' ? `\nðŸ  *Morada:* ${form.morada}` : ''}`;
                window.open(`https://wa.me/258846695390?text=${encodeURIComponent(text)}`, '_blank');
            };

            const MenuModalItem = ({ name, price, category }) => e('div', { className: 'flex justify-between items-center border-b border-white/5 py-5 group' },
                e('div', { className: 'flex flex-col' },
                    category && e('span', { className: 'text-[10px] font-black text-nyumba-clay uppercase tracking-widest mb-1' }, category),
                    e('span', { className: 'text-sm font-bold group-hover:text-nyumba-clay transition-colors uppercase' }, name)
                ),
                e('span', { className: 'text-xs font-black text-nyumba-clay ml-4' }, price)
            );

            return e('div', { className: 'flex flex-col min-h-screen' },
                // NAV
                e('nav', { className: 'fixed top-0 w-full z-50 glass px-6 py-4 flex justify-between items-center shadow-lg' },
                    e('div', { className: 'font-heading text-nyumba-clay font-black text-xl tracking-tighter uppercase' }, 'NYUMBA'),
                    e('button', { 
                        onClick: () => setLang(l => l === 'pt' ? 'en' : 'pt'), 
                        className: 'glass px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest text-nyumba-clay' 
                    }, lang === 'pt' ? 'EN' : 'PT')
                ),

                e('header', { className: 'pt-40 pb-12 px-6 text-center' },
                    e('h1', { className: 'font-heading text-7xl md:text-9xl text-nyumba-clay leading-none tracking-tighter' }, 'NYUMBA'),
                    e('p', { className: 'font-sans text-xl italic text-nyumba-sand/60 -mt-2' }, 'food-concept')
                ),

                e('main', { className: 'max-w-xl mx-auto w-full px-6 space-y-10 pb-20' },
                    // CONCEITO INTEGRAL
                    e('section', { className: 'glass rounded-[2.5rem] p-8 space-y-4 shadow-2xl' },
                        e('div', { className: 'flex justify-between items-center mb-2' },
                            e('span', { className: 'text-nyumba-clay font-black text-[10px] uppercase tracking-[0.4em]' }, t.conceptTitle),
                            e('i', { className: 'fas fa-quote-right text-nyumba-clay/20 text-xl' })
                        ),
                        e('p', { className: 'text-sm leading-relaxed text-justify opacity-90 whitespace-pre-line italic' }, t.conceptText)
                    ),

                    e('div', { className: 'space-y-4' },
                        e('button', { onClick: () => setIsOrderOpen(true), className: 'w-full bg-zinc-800 border border-white/10 text-white py-8 rounded-[2.5rem] font-black uppercase text-xs tracking-widest shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-4 hover:bg-zinc-700' }, 
                            e('i', { className: 'fab fa-whatsapp text-xl text-[#25D366]' }), t.orderBtn),
                        e('button', { onClick: () => setIsWeeklyOpen(true), className: 'w-full glass text-nyumba-sand py-6 rounded-[2rem] font-black uppercase text-[10px] tracking-widest active:scale-95 transition-all' }, t.weeklyBtn),
                        e('button', { onClick: () => setIsAlacarteOpen(true), className: 'w-full glass text-nyumba-sand py-6 rounded-[2rem] font-black uppercase text-[10px] tracking-widest active:scale-95 transition-all' }, t.alacarteBtn)
                    ),

                    e('section', { className: 'glass p-8 rounded-[3.5rem] space-y-8 shadow-2xl' },
                        e('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-8' },
                            e('div', { className: 'flex gap-4 items-center' }, e('div', { className: 'w-10 h-10 rounded-xl bg-nyumba-deep flex items-center justify-center text-nyumba-clay' }, e('i', { className: 'fas fa-location-dot' })), e('div', null, e('p', { className: 'font-black text-sm uppercase' }, t.location), e('p', { className: 'text-[10px] opacity-40 uppercase' }, t.address))),
                            e('div', { className: 'flex gap-4 items-center' }, e('div', { className: 'w-10 h-10 rounded-xl glass flex items-center justify-center text-nyumba-sand' }, e('i', { className: 'fas fa-clock' })), e('div', null, e('p', { className: 'font-black text-sm uppercase' }, t.hours), e('p', { className: 'text-[10px] opacity-40 uppercase' }, t.hoursDetail)))
                        ),
                        e('div', { className: 'flex gap-6 justify-center pt-6 border-t border-white/5' },
                            e('a', { href: "https://www.instagram.com/nyumbafoodconcept", target: "_blank", className: "w-12 h-12 rounded-full glass flex items-center justify-center text-xl hover:bg-nyumba-clay transition-all shadow-lg" }, e('i', { className: "fab fa-instagram" })),
                            e('a', { href: "https://www.facebook.com/713621391838871", target: "_blank", className: "w-12 h-12 rounded-full glass flex items-center justify-center text-xl hover:bg-nyumba-clay transition-all shadow-lg" }, e('i', { className: "fab fa-facebook-f" }))
                        )
                    ),

                    e('div', { className: 'h-72 rounded-[3rem] overflow-hidden glass p-1 shadow-2xl' },
                        e('iframe', { src: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3586.971653483244!2d32.593179!3d-25.96897!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1ee69bfe2dccc6a7%3A0xe72f04de0d760ff5!2sNYUMBA%20Food%20Concept!5e0!3m2!1sen!2spt!4v1767146297198!5m2!1sen!2spt', className: 'w-full h-full rounded-[2.8rem] grayscale invert opacity-40 hover:opacity-100 transition-opacity duration-1000', style: { border: 0 } })
                    )
                ),

                e('footer', { className: 'py-20 text-center px-6 opacity-30 mt-auto' }, e('p', { className: 'text-[9px] font-black uppercase tracking-[0.5em]' }, t.footer)),

                // MODAL Ã€ LA CARTE
                isAlacarteOpen && e('div', { className: 'modal-full custom-scrollbar' },
                    e('div', { className: 'max-w-xl mx-auto py-10 pb-32' },
                        e('div', { className: 'flex justify-between items-center mb-10 border-b border-white/10 pb-6' }, e('h2', { className: 'font-heading text-4xl text-nyumba-clay italic uppercase' }, t.alacarteTitle), e('button', { onClick: () => setIsAlacarteOpen(false), className: 'w-12 h-12 rounded-full glass flex items-center justify-center' }, 'âœ•')),
                        Object.entries(ALACARTE_DATA).map(([catKey, list]) => e('div', { key: catKey, className: 'mb-12 p-8 glass rounded-[3rem]' },
                            e('h3', { className: 'text-nyumba-clay font-heading text-2xl mb-8 border-l-4 border-nyumba-clay pl-6 uppercase italic tracking-tighter' }, t.sections[catKey] || catKey.toUpperCase()),
                            list.map((item, idx) => e(MenuModalItem, { key: idx, name: item[lang], price: item.p }))
                        )),
                        e('button', { onClick: () => setIsAlacarteOpen(false), className: 'w-full glass py-6 rounded-[2rem] font-black uppercase text-[10px] tracking-widest mt-10' }, t.close)
                    )
                ),

                // MODAL SEMANAL
                isWeeklyOpen && e('div', { className: 'modal-full custom-scrollbar' },
                    e('div', { className: 'max-w-xl mx-auto py-10 pb-32' },
                        e('div', { className: 'flex justify-between items-center mb-10 border-b border-white/10 pb-6' }, e('h2', { className: 'font-heading text-4xl text-nyumba-clay italic uppercase' }, t.weeklyMenu), e('button', { onClick: () => setIsWeeklyOpen(false), className: 'w-12 h-12 rounded-full glass flex items-center justify-center' }, 'âœ•')),
                        Object.values(MENU_DATA).map(d => e('div', { key: d[lang], className: 'mb-12 p-8 glass rounded-[3rem]' },
                            e('h3', { className: 'text-nyumba-clay font-heading text-2xl mb-8 border-l-4 border-nyumba-clay pl-6 uppercase italic tracking-tighter' }, d[lang]),
                            e('div', { className: 'space-y-6' },
                                e(MenuModalItem, { name: d.sopa[lang], price: d.sopa.p, category: t.sections.starter }),
                                e('div', { className: 'space-y-4' }, d.pratos.map((p, i) => e(MenuModalItem, { key: i, name: p[lang], price: p.p, category: i === 0 ? t.sections.main : null }))),
                                e(MenuModalItem, { name: d.sobremesa[lang], price: d.sobremesa.p, category: t.sections.dessert })
                            )
                        )),
                        e('button', { onClick: () => setIsWeeklyOpen(false), className: 'w-full glass py-6 rounded-[2rem] font-black uppercase text-[10px] tracking-widest mt-10' }, t.close)
                    )
                ),

                // MODAL PEDIDO
                isOrderOpen && e('div', { className: 'modal-full custom-scrollbar' },
                    e('div', { className: 'max-w-lg mx-auto py-4 pb-32' },
                        e('div', { className: 'flex justify-between items-center mb-8' }, e('h2', { className: 'font-heading text-2xl text-nyumba-clay italic' }, t.orderBtn), e('button', { onClick: () => setIsOrderOpen(false), className: 'w-12 h-12 rounded-full glass flex items-center justify-center' }, 'âœ•')),
                        e('div', { className: 'space-y-6' },
                            e('div', { className: 'grid grid-cols-2 gap-2 glass p-1 rounded-2xl' },
                                ['comer_local', 'takeaway', 'entrega', 'evento'].map(type => 
                                    e('button', { key: type, onClick: () => setForm({...form, tipo: type}), className: `py-3 rounded-xl text-[9px] font-black uppercase transition-all ${form.tipo === type ? 'bg-nyumba-clay text-white shadow-lg' : 'opacity-40'}` }, t.types[type])
                                )
                            ),
                            e('div', { className: 'space-y-3' },
                                e('input', { value: form.nome, placeholder: t.name, className: 'w-full glass rounded-xl px-4 py-3 text-sm outline-none focus:ring-1 ring-nyumba-clay', onChange: e => setForm({...form, nome: e.target.value}) }),
                                e('input', { value: form.telemovel, type: 'tel', placeholder: t.phone, className: 'w-full glass rounded-xl px-4 py-3 text-sm outline-none focus:ring-1 ring-nyumba-clay', onChange: e => setForm({...form, telemovel: e.target.value}) }),
                                e('div', { className: 'grid grid-cols-2 gap-2' },
                                    e('input', { value: form.data, type: 'date', className: 'glass rounded-xl px-4 py-3 text-sm outline-none focus:ring-1 ring-nyumba-clay', onChange: e => setForm({...form, data: e.target.value}) }),
                                    e('input', { value: form.hora, type: 'time', className: 'glass rounded-xl px-4 py-3 text-sm outline-none focus:ring-1 ring-nyumba-clay', onChange: e => setForm({...form, hora: e.target.value}) })
                                )
                            ),
                            e('div', { className: 'glass rounded-[2rem] overflow-hidden shadow-lg' },
                                e('button', { onClick: () => setIsMenuExpanded(!isMenuExpanded), className: 'w-full p-6 flex justify-between items-center bg-white/5' },
                                    e('span', { className: 'text-xs font-black uppercase tracking-widest text-nyumba-clay' }, t.selectItems),
                                    e('i', { className: `fas fa-chevron-${isMenuExpanded ? 'up' : 'down'}` })
                                ),
                                isMenuExpanded && e('div', { className: 'p-6 space-y-4 max-h-[50vh] overflow-y-auto custom-scrollbar' },
                                    !isWeekendOrHoliday && e('div', { className: 'flex gap-2 overflow-x-auto pb-4 custom-scrollbar border-b border-white/5 mb-6' },
                                        [1, 2, 3, 4, 5].map(d => e('button', { key: d, onClick: () => { setSelectedDay(d); setCart({}); }, className: `px-4 py-2 text-[10px] font-bold uppercase transition-all whitespace-nowrap ${selectedDay === d ? 'text-nyumba-clay border-b-2 border-nyumba-clay' : 'opacity-40'}` }, MENU_DATA[d][lang]))
                                    ),
                                    availableItems.map(item => e('div', { key: item.id, className: 'flex justify-between items-center py-3 border-b border-white/5' },
                                        e('div', { className: 'flex flex-col' },
                                            e('span', { className: 'text-[8px] opacity-40 uppercase tracking-tighter' }, item.cat),
                                            e('span', { className: 'text-xs font-bold leading-tight uppercase' }, lang === 'pt' ? item.n_pt : item.n_en),
                                            e('span', { className: 'text-[10px] text-nyumba-clay font-black' }, item.p)
                                        ),
                                        e('div', { className: 'flex items-center gap-3 bg-white/5 rounded-xl p-1' },
                                            e('button', { onClick: () => updateCart(item.n_pt, -1), className: 'w-8 h-8 glass rounded-lg flex items-center justify-center font-bold active:scale-90 transition-all' }, '-'),
                                            e('span', { className: 'text-xs font-black w-4 text-center' }, cart[item.n_pt] || 0),
                                            e('button', { onClick: () => updateCart(item.n_pt, 1), className: 'w-8 h-8 bg-nyumba-clay text-white rounded-lg flex items-center justify-center font-bold active:scale-90 transition-all' }, '+')
                                        )
                                    ))
                                )
                            ),
                            form.tipo === 'entrega' && e('input', { value: form.morada, placeholder: t.addressLabel, className: 'w-full glass border-nyumba-clay/50 rounded-xl px-4 py-3 text-sm outline-none focus:ring-1 ring-nyumba-clay transition-all animate-pulse', onChange: e => setForm({...form, morada: e.target.value}) }),
                            e('div', { className: 'space-y-2' },
                                e('label', { className: 'text-[10px] font-black uppercase ml-2 block' + (form.tipo === 'evento' ? ' text-nyumba-clay' : ' opacity-40') }, form.tipo === 'evento' ? t.notesEventLabel : t.notesGenericLabel),
                                e('textarea', { value: form.detalhes, placeholder: t.notesPlaceholders[form.tipo], className: 'w-full glass rounded-xl px-4 py-3 text-sm h-32 outline-none text-nyumba-sand leading-relaxed focus:ring-1 ring-nyumba-clay', onChange: e => setForm({...form, detalhes: e.target.value}) })
                            ),
                            totalPrice > 0 && e('div', { className: 'bg-nyumba-clay/20 border border-nyumba-clay/30 rounded-2xl p-6 flex justify-between items-center shadow-inner animate-pulse' },
                                e('span', { className: 'text-[10px] font-black uppercase tracking-widest' }, t.total),
                                e('span', { className: 'text-xl font-heading italic text-nyumba-clay' }, `${totalPrice.toLocaleString()} MT`)
                            ),
                            e('div', { className: 'flex flex-col gap-3 mt-4' },
                                e('button', { onClick: sendWA, className: 'w-full bg-[#25D366] text-white py-6 rounded-2xl font-black uppercase text-xs flex items-center justify-center gap-3 shadow-xl active:scale-95 transition-all' }, e('i', { className: 'fab fa-whatsapp text-lg' }), t.sendWa),
                                e('button', { onClick: handleReset, className: 'w-full glass py-4 rounded-2xl font-black uppercase text-[9px] tracking-[0.2em] text-white/40 hover:text-white/80 transition-all' }, t.resetBtn)
                            ),
                            e('button', { onClick: () => setIsOrderOpen(false), className: 'w-full glass py-6 rounded-[2rem] font-black uppercase text-[10px] tracking-widest mt-10' }, t.close)
                        )
                    )
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(e(App));
    </script>
</body>
</html>